import {
  apiParameter,
  apiNamespace,
  apiCommandClass,
  apiCommand
} from "../core/decorators"
import { loglevel } from "../modules/common"
import { ICommandExecutioner } from "../core/commandExecutioner"

/**
 * <%= className %>
 *
 * @export
 * @class <%= className %>
 */
@apiNamespace("force")
@apiCommandClass("<%= apiCommandClass %>")
export class <%= className %> {
  constructor(private requestExecutioner: ICommandExecutioner) {}
  <% _.each(functionDefinitions, function(functionDef) { %>
  /**
   * <%= escapeForComments(functionDef.shortDescription) %>
   *<% _.each(functionDef.parameters, function(functionParameter) { %>
   * @param {<%= functionParameter.type %>} <%= functionParameter.name %> <%= escapeForComments(functionParameter.description) %> <% })%>
   * @returns {(Promise<<%= functionDef.returnType %> | void>)}
   * @memberof <%= escapeForComments(className) %>
   * @description <%= escapeForComments(functionDef.description) %>
   * @example <%= escapeForComments(functionDef.help) %>
   * <%= escapeForComments(functionDef.example) %>
   */
    @apiCommand("<%= functionDef.apiCommand %>")
    public <%= functionDef.name %>(
      <% var numberOfParameters = functionDef.parameters.length;
      _.each(functionDef.parameters, function(functionParameter, index) {
      %>@apiParameter("<%= functionParameter.flagKey %>") <%= functionParameter.name %><% if(functionParameter.optional){ %>?<% } %>: <%= functionParameter.type %><% if((numberOfParameters - 1) !== index){ %>,<% } %>
      <% })
%>): Promise<<%= functionDef.returnType %> | void> {
      return this.requestExecutioner.execute<<%= functionDef.returnType %>>(this, this.<%= functionDef.name %>, arguments)
    }

  <% }) %>
}

